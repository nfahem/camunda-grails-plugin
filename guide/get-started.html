<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>2 Get Started 0.5.0</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/introduction.html"><strong>1</strong><span>Introduction</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/get-started.html"><strong>2</strong><span>Get Started</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/conventions.html"><strong>3</strong><span>A Word about Conventions</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/usage.html"><strong>4</strong><span>User Guide</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/configuration.html"><strong>5</strong><span>Configuration Guide</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/deployment.html"><strong>6</strong><span>Deployment Guide</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/testing.html"><strong>7</strong><span>Testing Guide</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/resources.html"><strong>8</strong><span>Further Resources</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        <span id="logo"><span style="white-space: nowrap"><img alt="camunda Logo" title="camunda Grails plugin" src="http://plexiti.github.io/camunda-grails-plugin/img/camunda.png" style="margin-right: 10px"/><span style="vertical-align: middle; font-size: 2.5em">camunda Grails plugin</span><br/><br/></span></span>
        
        
        <span id="sponsor"><span style="vertical-align: middle"><a href="http://plexiti.com" target="_blank"><img alt="plexiti Logo" title="plexiti GmbH" src="http://plexiti.github.io/camunda-grails-plugin/img/plexiti.png"/></a></span></span>
        
    </div>
    <p>The camunda Grails plugin integrates the camunda BPM platform with the Grails web application framework.</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../guide/introduction.html">&lt;&lt; <strong>1</strong><span>Introduction</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../guide/conventions.html"><strong>3</strong><span>A Word about Conventions</span> >></a></div>
                


                <div class="project">
                    <h1>2 Get Started - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Martin Schimak</p>

                    <p><strong>Version:</strong> 0.5.0</p>

                    
                </div>

                
                <div id="table-of-content">
                    <h2>Table of Contents</h2>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#install"><strong>2.1</strong><span>Install the plugin</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#create-process"><strong>2.2</strong><span>Create a process definition</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#execute-test"><strong>2.3</strong><span>Execute the integration test</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#deploy-webapp"><strong>2.4</strong><span>Wanna see camunda BPM in action?</span></a>
                    </div>
                    
                </div>
                

                

<h1 id="get-started">2 Get Started</h1>



<h2 id="install">2.1 Install the plugin</h2>
In your BuildConfig.groovy configure the following plugin dependency:<p class="paragraph"/><div class="code"><pre>plugins &#123;
    compile &#34;:camunda:0.5.0"
&#125;</pre></div><p class="paragraph"/>You may want to refresh your dependencies now in order to make sure that Grails properly
installs the plugin. Type on your command line<p class="paragraph"/><div class="code"><pre>grails refresh&#45;dependencies</pre></div>



<h2 id="create-process">2.2 Create a process definition</h2>
You can now create a <strong class="bold">BPMN 2.0</strong> process definition by issueing the following command:<p class="paragraph"/><div class="code"><pre>grails create&#45;process &#91;name&#93;</pre></div><p class="paragraph"/>As name choose a 'package and class' like name of your choice, e.g. "<strong class="bold">org.camunda.my.TestProcess</strong>".
You should see the following two files generated by Grails:<p class="paragraph"/><div class="code"><pre>| Created file grails&#45;app/processes/org/camunda/my/TestProcess.bpmn
| Created file test/integration/org/camunda/my/TestProcessSpec.groovy</pre></div><p class="paragraph"/>You may now want to look at the generated BPMN process definition by making use of <a href="http://camunda.org/bpmn/tool/" target="blank">camunda
modeler</a>. It's a minimal process, to get you started and build upon:<p class="paragraph"/><img border="0" class="center" src="../img/TestProcess.png"></img><p class="paragraph"/>Furthermore you will find a 'spock' based integration spec executing and checking that process. It
does have a bit more content than your typical almost empty Grails spec template...<p class="paragraph"/><div class="code"><pre>&#91;...&#93;
given: <span class="java&#45;quote">"a <span class="java&#45;keyword">new</span> instance of TestProcess"</span>
runtimeService.startProcessInstanceByKey(<span class="java&#45;quote">"TestProcess"</span>)<p class="paragraph"/>when: <span class="java&#45;quote">"completing the user task"</span>
def task = taskService.createTaskQuery().singleResult()
taskService.complete(task.id)<p class="paragraph"/>then: <span class="java&#45;quote">"the service method defined <span class="java&#45;keyword">for</span> the subsequent service task was called exactly once"</span>
1 &#42; sampleTestProcessService.serviceMethod(_ as Execution)
&#91;...&#93;</pre></div><p class="paragraph"/>&#8230; again to get you started with typical process testing boilerplate readily adapted to your
freshly created process definition and to build upon. You can directly execute that test:



<h2 id="execute-test">2.3 Execute the integration test</h2>
<blockquote class="note">Beware that this test will populate your test environment database with camunda related
tables. By default, this will be a H2 in memory database preconfigured by Grails - so everything
fine with that. For other databases, you will need to adapt the <a href="../guide/single.html#alternative-database" class="guide">plugin
configuration</a>, too.</blockquote><p class="paragraph"/><div class="code"><pre>grails test&#45;app integration: org.camunda.my.TestProcess</pre></div><p class="paragraph"/>When executing the test you should see the following familiar output :-)<p class="paragraph"/><div class="code"><pre>| Running 1 integration test&#8230; 1 of 1
| Completed 1 integration test, 0 failed in 0m 0s
| Tests PASSED &#45; view reports in ./target/test&#45;reports</pre></div><p class="paragraph"/><strong class="bold">Congrats!</strong> You are successfully using an embedded camunda BPM engine with the Grails framework!
If you want to use camunda "behind the scenes" of your grails app that's all that is needed! But
maybe you &#8230;


<h2 id="deploy-webapp">2.4 Wanna see camunda BPM in action?</h2>
Do you want to see the <strong class="bold">camunda BPM</strong> tasklist and cockpit web apps <strong class="bold">in action</strong> with your 
freshly created process? Then download a <strong class="bold"><a href="http://camunda.org/download/" target="blank">camunda BPM</a> distribution</strong> 
for <strong class="bold">tomcat</strong>, expand the archive, go to the expanded folder and start it by issuing:<p class="paragraph"/><div class="code"><pre>./start&#45;camunda.sh</pre></div><p class="paragraph"/>Now, return to your your grails project command line, and create a 'war' file prepared to use
the process engine managed by the camunda BPM tomcat container and shared with your grails app:<p class="paragraph"/><div class="code"><pre>grails war</pre></div><p class="paragraph"/>Move the war generated in your target folder into the camunda BPM tomcat 'webapp' folder. 
Open <a href="http://localhost:8080/camunda-welcome" target="blank">http://localhost:8080/camunda-welcome</a> and navigate 
to the tasklist application. Log in with user 'demo', password 'demo' and start your new process 
via the (little bit hidden :-) "start process" button in the top right corner:<p class="paragraph"/><img border="0" class="center" src="../img/tasklist-dashboard-start-process.png"></img><p class="paragraph"/>The sample form shows you different types of fields. You must at least select one of the values
in the 'sampleRequiredSelectionField' in order to validate the start form and enable the 
"Start"-Button. Start the process and you should see the "Sample UserTask" of your process 
assigned to you as user "demo". You may want to check out the diagram pane of your process and then
complete the task via the form. This will execute the subsequent service task (which logs 
the process variables provided by you into your tomcats logs/catalina.out file) and immediately 
after that finish your process instance.


                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../guide/introduction.html">&lt;&lt; <strong>1</strong><span>Introduction</span></a></div>
                
                    <div class="toc-item next-right"><a href="../guide/conventions.html"><strong>3</strong><span>A Word about Conventions</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Beans</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../ref/Beans/authorizationService.html">authorizationService</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Beans/caseService.html">caseService</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Beans/filterService.html">filterService</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Beans/formService.html">formService</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Beans/historyService.html">historyService</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Beans/identityService.html">identityService</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Beans/managementService.html">managementService</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Beans/processEngine.html">processEngine</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Beans/repositoryService.html">repositoryService</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Beans/runtimeService.html">runtimeService</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Beans/taskService.html">taskService</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Command Line</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../ref/Command%20Line/create-process.html">create-process</a>
                            </div>
                            
                            </div>
                    </div>
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    <div>
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
<img alt="Creative Commons 4.0" style="border-width:0; vertical-align: middle" src="http://i.creativecommons.org/l/by/4.0/80x15.png"></img></a>
<span style="vertical-align: middle"><a href="http://github.com/martinschimak" property="cc:attributionName" rel="cc:attributionURL">Martin Schimak</a>, 
<a href="http://plexiti.com" property="cc:attributionName" rel="cc:attributionURL">plexiti GmbH</a></span>
</div>

    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
